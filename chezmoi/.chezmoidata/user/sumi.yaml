apps:
  git:
    email: sumiharu@misumi-sumi.com
    name: misumisumi
    paper: &delta $env:USERPROFILE\scoop\shims\delta
    diffFilter: *delta
  lazygit:
    paper: $env:USERPROFILE\scoop\shims\delta --dark --paging=never
darwin:
  externals:
    - blesh
  user:
    sops:
    env:
      PATH:
    packages:
      homebrew:
        brew:
          - sox
          - neovim
        cask: # support macos only
          - vivaldi
          - firefox
linux:
  externals:
    - blesh
  system:
    packages:
  user:
    sops:
    env:
      XDG_CACHE_HOME: /home/$(whoami)/.cache
      XDG_CONFIG_HOME: /home/$(whoami)/.config
      XDG_DATA_HOME: /home/$(whoami)/.local/share
      XDG_DESKTOP_DIR: /home/$(whoami)/Desktop
      XDG_DOCUMENTS_DIR: /home/$(whoami)/Documents
      XDG_DOWNLOAD_DIR: /home/$(whoami)/Downloads
      XDG_GAME_DIR: /home/$(whoami)/Game
      XDG_MUSIC_DIR: /home/$(whoami)/Music
      XDG_PICTURES_DIR: /home/$(whoami)/Pictures
      XDG_PUBLICSHARE_DIR: /home/$(whoami)/Public
      XDG_STATE_HOME: /home/$(whoami)/.local/state
      XDG_TEMPLATES_DIR: /home/$(whoami)/Templates
      XDG_VIDEOS_DIR: /home/$(whoami)/Videos
      XDG_WORKSPACE_DIR: /home/$(whoami)/workspace
    packages: # checking only homebrew or asdf
      mise:
        # Packages I install globally use default aliases
        settings:
          idiomatic_version_file: true # enabled by default (unlike asdf)
          always_keep_download: false # deleted after install by default
          always_keep_install: false # deleted on failure by default
          plugin_autoupdate_last_check_duration: "1 week" # set to 0 to disable updates
          verbose: false # set to true to see full installation output, see `MISE_VERBOSE`
          http_timeout: "30s" # set the timeout for http requests as duration string, see `MISE_HTTP_TIMEOUT`
          jobs: 4 # number of plugins or runtimes to install in parallel. The default is `4`.
          raw: false # set to true to directly pipe plugins to stdin/stdout/stderr
          yes: false # set to true to automatically answer yes to all prompts
          not_found_auto_install: true
          auto_install: true # auto install missing development
          experimental: true # enable experimental features
        apps:
          bat: "latest"
          btop: "latest"
          cmake: "latest"
          delta: "latest"
          deno: "latest"
          duf: "latest"
          fd: "latest"
          ffmpeg: "latest"
          fzf: "latest"
          github-cli: "latest"
          go: "latest"
          imagemagick: "latest"
          jq: "latest"
          lazygit: "latest"
          neovim: "latest"
          nodejs: "latest"
          python: "latest"
          ripgrep: "latest"
          rust: "latest"
          starship: "latest"
          tmux: "latest"
          tree-sitter: "latest"
          uv: "latest"
          yazi: "latest"
          yt-dlp: "latest"
          zoxide: "latest"
      # Other package managers may also work, but have not been thoroughly tested
      # Also, some package managers require permission to run sudo without a password.
      # apt:
      #   installCmd: apt install
      #   options:
      #     - -y
      #   extraPreInstall: |
      #     add-apt-repository ppa:neovim-ppa/stable
      #     apt update
      #   extraPostInstall: |
      #     apt remove --autoremove
      #   apps:
      #     - neovim
      #     - sox
windows:
  externals:
  user:
    sops:
      pkgs\ssh\desktops: .ssh\conf.d\hosts\desktops
    env:
      PATH:
        - $env:USERPROFILE\bin
        - $env:USERPROFILE\.local\bin
        - $env:USERPROFILE\.dotnet\tools
        - $env:USERPROFILE\scoop\apps\git\current\mingw64\bin
        - $env:USERPROFILE\scoop\apps\git\current\mingw64\libexec\git-core
        - $env:USERPROFILE\scoop\apps\git\current\usr\bin
        - $env:USERPROFILE\scoop\apps\nodejs-lts\current
        - $env:USERPROFILE\scoop\apps\nodejs-lts\current\bin
        - $env:USERPROFILE\scoop\apps\python\current
        - $env:USERPROFILE\scoop\apps\python\current\Scripts
        - $env:USERPROFILE\scoop\apps\ruby\current\bin
        - $env:USERPROFILE\scoop\apps\ruby\current\gems\bin
        - $env:USERPROFILE\scoop\shims
        - $env:LOCALAPPDATA\Microsoft\WindowsApps
      FZF_ALT_C_COMMAND: "fd --type d"
      FZF_ALT_C_OPTS: "--preview 'tree -C {} | tree -200'"
      FZF_CTRL_R_OPTS: "--preview 'echo {}' --preview-window up:3:hidden:wrap --bind 'ctrl-/:toggle-preview' --bind 'ctrl-y:execute-silent(echo -n {2..} | pbcopy)+abort' --color header:italic --header 'Press CTRL-Y to copy command into clipboard'"
      FZF_CTRL_T_COMMAND: "fd --type f"
      FZF_CTRL_T_OPTS: "--preview 'bat -n --color=always {}' --bind 'ctrl-/:change-preview-window(down|hidden|)'"
      JAVA_TOOL_OPTIONS: -Dconsole.encoding=UTF-8 -Dfile.encoding=UTF-8
      KOMOREBI_CONFIG_HOME: $env:USERPROFILE\.config\komorebi
      SOPS_AGE_KEY_FILE: $env:USERPROFILE\.config\sops\age\keys.txt
      STARSHIP_CONFIG: $env:USERPROFILE\.config\starship.toml
      XDG_CACHE_HOME: $env:USERPROFILE\.cache
      XDG_CONFIG_HOME: $env:USERPROFILE\.config
      XDG_DATA_HOME: $env:USERPROFILE\.local\share
      XDG_STATE_HOME: $env:USERPROFILE\.local/state
      YAZI_FILE_ONE: $env:USERPROFILE\scoop\apps\git\current\usr\bin\file.exe
    packages:
      powershell:
        modules:
          - NuGet
          - M365PSProfile
          - PSFzf
          - PSWindowsUpdate
          - Terminal-Icons
          - WslInterop
          - syntax-highlighting
        scripts:
      winget:
        preCmd: |
        extraOptions:
        sources:
          # <name>: <url>
        apps:
          sudo:
            # creativity
            - Adobe.CreativeCloud
            - BlenderFoundation.Blender
            - GIMP.GIMP
            - KDE.Krita
            - Unity.UnityHub
            # communications
            - Discord.Discord
            # - SlackTechnologies.Slack
            - Zoom.Zoom
            # drivers
            - MichaelTippach.ASIO4ALL
            - RedHat.VirtIO
            - WinFsp.WinFsp
            # gaming
            # - GaijinNetwork.WarThunder
            - Meta.Oculus
            - VRCX.VRCX
            - VRChat.CreatorCompanion
            - Valve.Steam
            - VirtualDesktop.Streamer
            # runtimes
            - Microsoft.VCRedist.2005.x86
            - Microsoft.VCRedist.2005.x64
            - Microsoft.VCRedist.2008.x86
            - Microsoft.VCRedist.2008.x64
            - Microsoft.VCRedist.2010.x86
            - Microsoft.VCRedist.2010.x64
            - Microsoft.VCRedist.2012.x86
            - Microsoft.VCRedist.2012.x64
            - Microsoft.VCRedist.2013.x86
            - Microsoft.VCRedist.2013.x64
            - Microsoft.VCRedist.2015+.x86
            - Microsoft.VCRedist.2015+.x64
            - NDI.NDIRuntime
            # tiling WM
            - LGUG2Z.komorebi
            - LGUG2Z.whkd
            # tools
            - Microsoft.VisualStudio.2022.Community
            - Microsoft.WinDbg
            - Microsoft.WindowsTerminal
            - Mozilla.Firefox
            - OBSProject.OBSStudio
            - Vivaldi.Vivaldi
            # utilities
            - File-New-Project.EarTrumpet
            - GnuPG.Gpg4win
            - Microsoft.PowerToys
            - Microsoft.WingetCreate
            - RussellBanks.Komac
            - nathancorvussolis.corvusskk
          no_sudo:
            - Spotify.Spotify
          manifests:
      chocolatey:
        apps:
          sudo:
          no_sudo:
      scoop:
        buckets:
          extras: https://github.com/ScoopInstaller/Extras
          java: https://github.com/ScoopInstaller/Java
          main: https://github.com/ScoopInstaller/Main
          my-bucket: https://github.com/Sumi-Sumi/scoop-bucket
          nerd-fonts: https://github.com/matthewjberger/scoop-nerd-fonts
          versions: https://github.com/ScoopInstaller/Versions
          xrtools: "https://github.com/babo4d/scoop-xrtools"
        apps:
          # core utils
          - 7zip # A multi-format file archiver with high compression ratios
          - ctags # index generator
          - curl # curl
          - delta # git and diff output with syntax-highlighting
          - fd # fast find
          - ffmpeg # command line tools for multimedia
          - fzf # fazzy finder
          - git # git
          - imagemagick # command line tools for image
          - jq # json parser
          - lazygit # tui tool for git
          - less # pager
          - neovim # editor
          - openssh # utility of ssh
          - poppler # lib of pdf rendering
          - psutils # unix like command line utilities
          - ripgrep # recursively searches dir for a regex pattern
          - sops # Editor of encrypted file
          - starship # prompt decorator
          - tree-sitter # tree-sitter
          - wezterm # terminal
          - wget # wget
          - yazi # command line filer
          - yq # yaml parser
          - zoxide # faster navigator
          # rich utils
          - bat # cat with syntax-highlighting
          - btop # system monitor
          - fastfetch # show system info
          - scoop-completion
          # unity
          - vrc-alcom
          - vrc-get
          # font
          - my-bucket/moralerspace-nf
          - my-bucket/moralerspace-hw-nf
          - nerd-fonts/FiraCode-NF
          # yubikey
          - yubico-piv-tool
          - yubikey-manager-qt
          - yubikey-personalization
          - yubikey-personalization-gui
          - yubioath
          # development
          # - java/microsoft-lts-jdk # runtime for java
          - cmake # cmake
          - deno # runtime for javascript and typescript
          - go # golang
          - make # make
          - mingw # gcc compiler for windows
          - nodejs-lts # runtime for javascript
          - python
          - ruby # ruby
          - rustup # rust
          - uv # python package manager
